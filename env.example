# ===========================================
# Server Configuration
# ===========================================

# Port for HTTP server
PORT=8000

# Host to bind (0.0.0.0 = all interfaces)
HOST=0.0.0.0

# Environment: development | production | test
NODE_ENV=development

# ===========================================
# Database
# ===========================================

# PostgreSQL connection URL
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://steam:steam@localhost:5433/steam_items

# ===========================================
# Steam Market Provider
# ===========================================

# Enable/disable the Steam Market parser
# true = parser will run on schedule
# false = parser disabled, API still works
STEAM_MARKET_ENABLED=true

# How often to run full market scan (in minutes)
# Full scan of ~15,000 items takes ~75 minutes with batch_size=10
# Recommended: 5-60 minutes depending on your needs
STEAM_MARKET_INTERVAL_MINUTES=5

# Number of items to fetch per API request
# Steam allows max 100, but smaller batches are safer for rate limiting
# 10 = conservative, less chance of being rate limited
# 100 = faster but higher risk of 429 errors
STEAM_MARKET_BATCH_SIZE=10

# Delay between API requests (in milliseconds)
# Prevents hitting Steam's rate limit
# 3000ms (3 sec) = ~20 requests/minute, safe
# 1000ms (1 sec) = faster but risky
STEAM_MARKET_DELAY_MS=3000

# Max retry attempts on failed requests (429, 5xx errors)
# After max retries, batch is skipped and scan continues
STEAM_MARKET_MAX_RETRIES=3

# Delay on retry for failed requests (in milliseconds)
# Multiplied by attempt number (1st attempt = delay, 2nd = delay*2, etc)
# 60000ms (60 sec) = safe for rate limiting
# Used for both regular errors and rate limit (429) responses
STEAM_MARKET_RETRY_DELAY_MS=60000

# ===========================================
# Logging
# ===========================================

# Log level: debug | info | warn | error
# debug = very verbose, shows all requests
# info = normal operation logs
# warn = warnings and errors only
# error = errors only
LOG_LEVEL=info

# ===========================================
# Optional
# ===========================================

# Run initial scan on startup (true/false)
# If true, parser will fetch all items immediately after start
# If false, waits for first scheduled run
# RUN_INITIAL_SCAN=false

